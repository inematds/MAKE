{
    "name": "2. Appointment setter",
    "flow": [
        {
            "id": 1,
            "module": "gateway:CustomWebHook",
            "version": 1,
            "parameters": {
                "hook": 700937,
                "maxResults": 1
            },
            "mapper": {},
            "metadata": {
                "designer": {
                    "x": 0,
                    "y": 300
                },
                "restore": {
                    "parameters": {
                        "hook": {
                            "data": {
                                "editable": "true"
                            },
                            "label": "Vapi"
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "hook",
                        "type": "hook:gateway-webhook",
                        "label": "Webhook",
                        "required": true
                    },
                    {
                        "name": "maxResults",
                        "type": "number",
                        "label": "Maximum number of results"
                    }
                ]
            }
        },
        {
            "id": 10,
            "module": "groq:chatCompletion",
            "version": 1,
            "parameters": {
                "__IMTCONN__": 2431689
            },
            "mapper": {
                "model": "llama-3.3-70b-versatile",
                "messages": [
                    {
                        "role": "user",
                        "content": "Transforma esta fecha {{1.message.toolCallList[].function.arguments.Fecha_hora}} en el siguiente formato YYYY/MM/DD HH:MM.\n\nSolo responde con la fecha, no añadas mas texto."
                    }
                ],
                "max_tokens": "100",
                "response_format": "text"
            },
            "metadata": {
                "designer": {
                    "x": 300,
                    "y": 300
                },
                "restore": {
                    "expect": {
                        "model": {
                            "mode": "chose",
                            "label": "llama-3.3-70b-versatile"
                        },
                        "messages": {
                            "mode": "chose",
                            "items": [
                                {
                                    "role": {
                                        "mode": "chose",
                                        "label": "User"
                                    }
                                }
                            ]
                        },
                        "response_format": {
                            "mode": "chose",
                            "label": "Text"
                        }
                    },
                    "parameters": {
                        "__IMTCONN__": {
                            "data": {
                                "scoped": "true",
                                "connection": "groq"
                            },
                            "label": "My Groq connection"
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "__IMTCONN__",
                        "type": "account:groq",
                        "label": "Connection",
                        "required": true
                    }
                ],
                "expect": [
                    {
                        "name": "model",
                        "type": "select",
                        "label": "Model",
                        "required": true
                    },
                    {
                        "name": "messages",
                        "spec": [
                            {
                                "name": "role",
                                "type": "select",
                                "label": "Role",
                                "options": [
                                    {
                                        "label": "System",
                                        "value": "system"
                                    },
                                    {
                                        "label": "User",
                                        "value": "user"
                                    },
                                    {
                                        "label": "Assistant",
                                        "value": "assistant"
                                    }
                                ]
                            },
                            {
                                "name": "content",
                                "type": "text",
                                "label": "Content"
                            }
                        ],
                        "type": "array",
                        "label": "Messages",
                        "required": true
                    },
                    {
                        "name": "max_tokens",
                        "type": "number",
                        "label": "Max tokens returned"
                    },
                    {
                        "name": "temperature",
                        "type": "number",
                        "label": "Temperature"
                    },
                    {
                        "name": "response_format",
                        "type": "select",
                        "label": "Response Format",
                        "validate": {
                            "enum": [
                                "text",
                                "json_object"
                            ]
                        }
                    },
                    {
                        "name": "top_p",
                        "type": "number",
                        "label": "Top P"
                    },
                    {
                        "name": "frequency_penalty",
                        "type": "number",
                        "label": "Frequency Penalty"
                    },
                    {
                        "name": "seed",
                        "type": "number",
                        "label": "Seed"
                    }
                ]
            }
        },
        {
            "id": 5,
            "module": "builtin:BasicRouter",
            "version": 1,
            "mapper": null,
            "metadata": {
                "designer": {
                    "x": 600,
                    "y": 300
                }
            },
            "routes": [
                {
                    "flow": [
                        {
                            "id": 2,
                            "module": "google-calendar:createAnEvent",
                            "version": 5,
                            "parameters": {
                                "__IMTCONN__": 1523189
                            },
                            "filter": {
                                "name": "Corte de pelo",
                                "conditions": [
                                    [
                                        {
                                            "a": "{{lower(1.message.toolCallList[].function.arguments.Tipo_de_servicio)}}",
                                            "b": "corte",
                                            "o": "text:equal"
                                        }
                                    ]
                                ]
                            },
                            "mapper": {
                                "start": "{{10.result}}",
                                "select": "detail",
                                "summary": "Corte - {{1.message.toolCallList[].function.arguments.Nombre}}",
                                "calendar": "angel.aparicio92@gmail.com",
                                "duration": "00:30",
                                "location": "Carrer de Sant Jaume, 16, 12580 Benicarló, Castelló",
                                "attendees": [
                                    {
                                        "email": "esteban.diaz@gmail.com",
                                        "displayName": "{{1.message.toolCallList[].function.arguments.Nombre}}"
                                    }
                                ],
                                "overrides": [
                                    {
                                        "method": "popup",
                                        "minutes": "30"
                                    }
                                ],
                                "useDefault": true,
                                "visibility": "default",
                                "allDayEvent": false,
                                "sendUpdates": "all",
                                "transparency": "opaque",
                                "conferenceDate": false,
                                "guestPermissions": {
                                    "guestsCanModify": false,
                                    "guestsCanInviteOthers": true,
                                    "guestsCanSeeOtherGuests": true
                                }
                            },
                            "metadata": {
                                "designer": {
                                    "x": 900,
                                    "y": 0
                                },
                                "restore": {
                                    "expect": {
                                        "select": {
                                            "label": "In Detail"
                                        },
                                        "colorId": {
                                            "mode": "chose"
                                        },
                                        "calendar": {
                                            "mode": "chose",
                                            "label": "angel.aparicio92@gmail.com (Primary Calendar)"
                                        },
                                        "attendees": {
                                            "mode": "chose",
                                            "items": [
                                                null
                                            ]
                                        },
                                        "overrides": {
                                            "mode": "chose",
                                            "items": [
                                                {
                                                    "method": {
                                                        "mode": "chose",
                                                        "label": "Pop-up"
                                                    }
                                                }
                                            ]
                                        },
                                        "recurrence": {
                                            "mode": "chose"
                                        },
                                        "visibility": {
                                            "mode": "chose",
                                            "label": "Default"
                                        },
                                        "allDayEvent": {
                                            "mode": "chose"
                                        },
                                        "attachments": {
                                            "mode": "chose"
                                        },
                                        "sendUpdates": {
                                            "mode": "chose",
                                            "label": "To All Guests"
                                        },
                                        "transparency": {
                                            "mode": "chose",
                                            "label": "Busy"
                                        },
                                        "conferenceDate": {
                                            "mode": "chose"
                                        }
                                    },
                                    "parameters": {
                                        "__IMTCONN__": {
                                            "data": {
                                                "scoped": "true",
                                                "connection": "google"
                                            },
                                            "label": "My Google connection (angel.aparicio92@gmail.com)"
                                        }
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account:google",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "select",
                                        "type": "select",
                                        "label": "Create an Event",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "quick",
                                                "detail"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "calendar",
                                        "type": "select",
                                        "label": "Calendar ID",
                                        "required": true
                                    },
                                    {
                                        "name": "colorId",
                                        "type": "select",
                                        "label": "Color"
                                    },
                                    {
                                        "name": "summary",
                                        "type": "text",
                                        "label": "Event Name",
                                        "required": true
                                    },
                                    {
                                        "name": "allDayEvent",
                                        "type": "boolean",
                                        "label": "All Day Event",
                                        "required": true
                                    },
                                    {
                                        "name": "start",
                                        "time": true,
                                        "type": "date",
                                        "label": "Start Date",
                                        "required": true
                                    },
                                    {
                                        "name": "end",
                                        "time": true,
                                        "type": "date",
                                        "label": "End Date"
                                    },
                                    {
                                        "name": "duration",
                                        "type": "time",
                                        "label": "Duration"
                                    },
                                    {
                                        "name": "description",
                                        "type": "text",
                                        "label": "Description"
                                    },
                                    {
                                        "name": "location",
                                        "type": "text",
                                        "label": "Location"
                                    },
                                    {
                                        "name": "useDefault",
                                        "type": "boolean",
                                        "label": "Use the default reminder settings for this event"
                                    },
                                    {
                                        "name": "overrides",
                                        "spec": [
                                            {
                                                "name": "method",
                                                "type": "select",
                                                "label": "Method",
                                                "options": [
                                                    {
                                                        "label": "Email",
                                                        "value": "email"
                                                    },
                                                    {
                                                        "label": "Pop-up",
                                                        "value": "popup"
                                                    }
                                                ],
                                                "required": true
                                            },
                                            {
                                                "name": "minutes",
                                                "type": "uinteger",
                                                "label": "Minutes",
                                                "required": true,
                                                "validate": {
                                                    "max": 40320
                                                }
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Reminders",
                                        "validate": {
                                            "maxItems": 5
                                        }
                                    },
                                    {
                                        "name": "attendees",
                                        "spec": [
                                            {
                                                "name": "displayName",
                                                "type": "text",
                                                "label": "Name"
                                            },
                                            {
                                                "name": "email",
                                                "type": "email",
                                                "label": "Email",
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Attendees"
                                    },
                                    {
                                        "name": "transparency",
                                        "type": "select",
                                        "label": "Show me as",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "opaque",
                                                "transparent"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "visibility",
                                        "type": "select",
                                        "label": "Visibility",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "default",
                                                "public",
                                                "private"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "sendUpdates",
                                        "type": "select",
                                        "label": "Send notifications about the event creation",
                                        "validate": {
                                            "enum": [
                                                "all",
                                                "externalOnly",
                                                "none"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "guestPermissions",
                                        "spec": [
                                            {
                                                "name": "guestsCanModify",
                                                "type": "boolean",
                                                "label": "Modify event",
                                                "required": true
                                            },
                                            {
                                                "name": "guestsCanInviteOthers",
                                                "type": "boolean",
                                                "label": "Invite others",
                                                "required": true
                                            },
                                            {
                                                "name": "guestsCanSeeOtherGuests",
                                                "type": "boolean",
                                                "label": "See guest list",
                                                "required": true
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Guest Permissions"
                                    },
                                    {
                                        "name": "recurrence",
                                        "spec": {
                                            "name": "value",
                                            "type": "text",
                                            "label": "Value"
                                        },
                                        "type": "array",
                                        "label": "Recurrence"
                                    },
                                    {
                                        "name": "conferenceDate",
                                        "type": "boolean",
                                        "label": "Add Google Meet Video Conferencing",
                                        "required": true
                                    },
                                    {
                                        "name": "attachments",
                                        "spec": [
                                            {
                                                "name": "fileUrl",
                                                "type": "url",
                                                "label": "File URL",
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Attachments"
                                    }
                                ],
                                "advanced": true
                            }
                        },
                        {
                            "id": 4,
                            "module": "airtable:ActionCreateRecord",
                            "version": 3,
                            "parameters": {
                                "__IMTCONN__": 2923290
                            },
                            "mapper": {
                                "base": "appNDZF7ubXUqgEsA",
                                "table": "tblEhCoBWtYExxTqi",
                                "record": {
                                    "fldMW4qvfdU1aXvyf": "{{10.result}}",
                                    "fldQrleQFqaCoTGYa": "{{1.message.toolCallList[].function.arguments.Nombre}}",
                                    "fldfpzL7HV4aBiMj0": "{{1.message.toolCallList[].function.arguments.Email}}",
                                    "fldvQoYh7WR2jK5Yv": "{{1.message.toolCallList[].function.arguments.Numero}}"
                                },
                                "typecast": false,
                                "useColumnId": false
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1200,
                                    "y": 0
                                },
                                "restore": {
                                    "expect": {
                                        "base": {
                                            "label": "IA Barbershop"
                                        },
                                        "table": {
                                            "label": "Table 1",
                                            "nested": [
                                                {
                                                    "name": "record",
                                                    "spec": [
                                                        {
                                                            "name": "fldQrleQFqaCoTGYa",
                                                            "type": "text",
                                                            "label": "Nombre"
                                                        },
                                                        {
                                                            "name": "fldvQoYh7WR2jK5Yv",
                                                            "type": "text",
                                                            "label": "Numero de telefono"
                                                        },
                                                        {
                                                            "name": "fldfpzL7HV4aBiMj0",
                                                            "type": "text",
                                                            "label": "Email"
                                                        },
                                                        {
                                                            "name": "fldMW4qvfdU1aXvyf",
                                                            "time": true,
                                                            "type": "date",
                                                            "label": "Dia y hora"
                                                        },
                                                        {
                                                            "mode": "edit",
                                                            "name": "fld8KyrUsaeOS5vDt",
                                                            "type": "select",
                                                            "label": "Status",
                                                            "dynamic": true,
                                                            "options": [
                                                                {
                                                                    "label": "No presentado",
                                                                    "value": "No presentado"
                                                                },
                                                                {
                                                                    "label": "Completado",
                                                                    "value": "Completado"
                                                                }
                                                            ],
                                                            "validate": false
                                                        },
                                                        {
                                                            "name": "fldhf1eBp1tpLGpGh",
                                                            "type": "uinteger",
                                                            "label": "Satisfacción",
                                                            "validate": {
                                                                "min": 1
                                                            }
                                                        }
                                                    ],
                                                    "type": "collection",
                                                    "label": "Record"
                                                }
                                            ]
                                        },
                                        "record": {
                                            "nested": {
                                                "fld8KyrUsaeOS5vDt": {
                                                    "mode": "edit"
                                                }
                                            }
                                        },
                                        "typecast": {
                                            "mode": "chose"
                                        },
                                        "useColumnId": {
                                            "mode": "chose"
                                        }
                                    },
                                    "parameters": {
                                        "__IMTCONN__": {
                                            "data": {
                                                "scoped": "true",
                                                "connection": "airtable3"
                                            },
                                            "label": "My Airtable OAuth connection buena (User ID: usr1voXsCs2mwE0pt)"
                                        }
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account:airtable3,airtable2",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "base",
                                        "type": "select",
                                        "label": "Base",
                                        "required": true
                                    },
                                    {
                                        "name": "typecast",
                                        "type": "boolean",
                                        "label": "Smart links",
                                        "required": true
                                    },
                                    {
                                        "name": "useColumnId",
                                        "type": "boolean",
                                        "label": "Use Column ID",
                                        "required": true
                                    },
                                    {
                                        "name": "table",
                                        "type": "select",
                                        "label": "Table",
                                        "required": true
                                    },
                                    {
                                        "name": "record",
                                        "spec": [
                                            {
                                                "name": "fldQrleQFqaCoTGYa",
                                                "type": "text",
                                                "label": "Nombre"
                                            },
                                            {
                                                "name": "fldvQoYh7WR2jK5Yv",
                                                "type": "text",
                                                "label": "Numero de telefono"
                                            },
                                            {
                                                "name": "fldfpzL7HV4aBiMj0",
                                                "type": "text",
                                                "label": "Email"
                                            },
                                            {
                                                "name": "fldMW4qvfdU1aXvyf",
                                                "time": true,
                                                "type": "date",
                                                "label": "Dia y hora"
                                            },
                                            {
                                                "mode": "edit",
                                                "name": "fld8KyrUsaeOS5vDt",
                                                "type": "select",
                                                "label": "Status"
                                            },
                                            {
                                                "name": "fldhf1eBp1tpLGpGh",
                                                "type": "uinteger",
                                                "label": "Satisfacción",
                                                "validate": {
                                                    "min": 1
                                                }
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ],
                                "interface": [
                                    {
                                        "name": "id",
                                        "type": "text",
                                        "label": "ID"
                                    },
                                    {
                                        "name": "createdTime",
                                        "type": "date",
                                        "label": "Created Time"
                                    },
                                    {
                                        "name": "Nombre",
                                        "type": "text",
                                        "label": "Nombre"
                                    },
                                    {
                                        "name": "Numero de telefono",
                                        "type": "text",
                                        "label": "Numero de telefono"
                                    },
                                    {
                                        "name": "Email",
                                        "type": "text",
                                        "label": "Email"
                                    },
                                    {
                                        "name": "Dia y hora",
                                        "time": true,
                                        "type": "date",
                                        "label": "Dia y hora"
                                    },
                                    {
                                        "name": "Status",
                                        "type": "text",
                                        "label": "Status"
                                    },
                                    {
                                        "name": "Satisfacción",
                                        "type": "uinteger",
                                        "label": "Satisfacción",
                                        "validate": {
                                            "min": 1
                                        }
                                    },
                                    {
                                        "name": "Última modificación",
                                        "type": "date",
                                        "label": "Última modificación"
                                    }
                                ]
                            }
                        }
                    ]
                },
                {
                    "flow": [
                        {
                            "id": 11,
                            "module": "google-calendar:createAnEvent",
                            "version": 5,
                            "parameters": {
                                "__IMTCONN__": 1523189
                            },
                            "filter": {
                                "name": "afeitado",
                                "conditions": [
                                    [
                                        {
                                            "a": "{{lower(1.message.toolCallList[].function.arguments.Tipo_de_servicio)}}",
                                            "b": "afeitado",
                                            "o": "text:equal"
                                        }
                                    ]
                                ]
                            },
                            "mapper": {
                                "start": "{{10.result}}",
                                "select": "detail",
                                "summary": "Afeitado - {{1.message.toolCallList[].function.arguments.Nombre}}",
                                "calendar": "angel.aparicio92@gmail.com",
                                "duration": "00:30",
                                "location": "Carrer de Sant Jaume, 16, 12580 Benicarló, Castelló",
                                "attendees": [
                                    {
                                        "email": "{{1.message.toolCallList[].function.arguments.Email}}",
                                        "displayName": "{{1.message.toolCallList[].function.arguments.Nombre}}"
                                    }
                                ],
                                "overrides": [
                                    {
                                        "method": "popup",
                                        "minutes": "30"
                                    }
                                ],
                                "useDefault": true,
                                "visibility": "default",
                                "allDayEvent": false,
                                "sendUpdates": "all",
                                "transparency": "opaque",
                                "conferenceDate": false,
                                "guestPermissions": {
                                    "guestsCanModify": false,
                                    "guestsCanInviteOthers": true,
                                    "guestsCanSeeOtherGuests": true
                                }
                            },
                            "metadata": {
                                "designer": {
                                    "x": 900,
                                    "y": 300
                                },
                                "restore": {
                                    "expect": {
                                        "select": {
                                            "label": "In Detail"
                                        },
                                        "colorId": {
                                            "mode": "chose"
                                        },
                                        "calendar": {
                                            "mode": "chose",
                                            "label": "angel.aparicio92@gmail.com (Primary Calendar)"
                                        },
                                        "attendees": {
                                            "mode": "chose",
                                            "items": [
                                                null
                                            ]
                                        },
                                        "overrides": {
                                            "mode": "chose",
                                            "items": [
                                                {
                                                    "method": {
                                                        "mode": "chose",
                                                        "label": "Pop-up"
                                                    }
                                                }
                                            ]
                                        },
                                        "recurrence": {
                                            "mode": "chose"
                                        },
                                        "visibility": {
                                            "mode": "chose",
                                            "label": "Default"
                                        },
                                        "allDayEvent": {
                                            "mode": "chose"
                                        },
                                        "attachments": {
                                            "mode": "chose"
                                        },
                                        "sendUpdates": {
                                            "mode": "chose",
                                            "label": "To All Guests"
                                        },
                                        "transparency": {
                                            "mode": "chose",
                                            "label": "Busy"
                                        },
                                        "conferenceDate": {
                                            "mode": "chose"
                                        }
                                    },
                                    "parameters": {
                                        "__IMTCONN__": {
                                            "data": {
                                                "scoped": "true",
                                                "connection": "google"
                                            },
                                            "label": "My Google connection (angel.aparicio92@gmail.com)"
                                        }
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account:google",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "select",
                                        "type": "select",
                                        "label": "Create an Event",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "quick",
                                                "detail"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "calendar",
                                        "type": "select",
                                        "label": "Calendar ID",
                                        "required": true
                                    },
                                    {
                                        "name": "colorId",
                                        "type": "select",
                                        "label": "Color"
                                    },
                                    {
                                        "name": "summary",
                                        "type": "text",
                                        "label": "Event Name",
                                        "required": true
                                    },
                                    {
                                        "name": "allDayEvent",
                                        "type": "boolean",
                                        "label": "All Day Event",
                                        "required": true
                                    },
                                    {
                                        "name": "start",
                                        "time": true,
                                        "type": "date",
                                        "label": "Start Date",
                                        "required": true
                                    },
                                    {
                                        "name": "end",
                                        "time": true,
                                        "type": "date",
                                        "label": "End Date"
                                    },
                                    {
                                        "name": "duration",
                                        "type": "time",
                                        "label": "Duration"
                                    },
                                    {
                                        "name": "description",
                                        "type": "text",
                                        "label": "Description"
                                    },
                                    {
                                        "name": "location",
                                        "type": "text",
                                        "label": "Location"
                                    },
                                    {
                                        "name": "useDefault",
                                        "type": "boolean",
                                        "label": "Use the default reminder settings for this event"
                                    },
                                    {
                                        "name": "overrides",
                                        "spec": [
                                            {
                                                "name": "method",
                                                "type": "select",
                                                "label": "Method",
                                                "options": [
                                                    {
                                                        "label": "Email",
                                                        "value": "email"
                                                    },
                                                    {
                                                        "label": "Pop-up",
                                                        "value": "popup"
                                                    }
                                                ],
                                                "required": true
                                            },
                                            {
                                                "name": "minutes",
                                                "type": "uinteger",
                                                "label": "Minutes",
                                                "required": true,
                                                "validate": {
                                                    "max": 40320
                                                }
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Reminders",
                                        "validate": {
                                            "maxItems": 5
                                        }
                                    },
                                    {
                                        "name": "attendees",
                                        "spec": [
                                            {
                                                "name": "displayName",
                                                "type": "text",
                                                "label": "Name"
                                            },
                                            {
                                                "name": "email",
                                                "type": "email",
                                                "label": "Email",
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Attendees"
                                    },
                                    {
                                        "name": "transparency",
                                        "type": "select",
                                        "label": "Show me as",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "opaque",
                                                "transparent"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "visibility",
                                        "type": "select",
                                        "label": "Visibility",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "default",
                                                "public",
                                                "private"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "sendUpdates",
                                        "type": "select",
                                        "label": "Send notifications about the event creation",
                                        "validate": {
                                            "enum": [
                                                "all",
                                                "externalOnly",
                                                "none"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "guestPermissions",
                                        "spec": [
                                            {
                                                "name": "guestsCanModify",
                                                "type": "boolean",
                                                "label": "Modify event",
                                                "required": true
                                            },
                                            {
                                                "name": "guestsCanInviteOthers",
                                                "type": "boolean",
                                                "label": "Invite others",
                                                "required": true
                                            },
                                            {
                                                "name": "guestsCanSeeOtherGuests",
                                                "type": "boolean",
                                                "label": "See guest list",
                                                "required": true
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Guest Permissions"
                                    },
                                    {
                                        "name": "recurrence",
                                        "spec": {
                                            "name": "value",
                                            "type": "text",
                                            "label": "Value"
                                        },
                                        "type": "array",
                                        "label": "Recurrence"
                                    },
                                    {
                                        "name": "conferenceDate",
                                        "type": "boolean",
                                        "label": "Add Google Meet Video Conferencing",
                                        "required": true
                                    },
                                    {
                                        "name": "attachments",
                                        "spec": [
                                            {
                                                "name": "fileUrl",
                                                "type": "url",
                                                "label": "File URL",
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Attachments"
                                    }
                                ],
                                "advanced": true
                            }
                        },
                        {
                            "id": 7,
                            "module": "airtable:ActionCreateRecord",
                            "version": 3,
                            "parameters": {
                                "__IMTCONN__": 2923290
                            },
                            "mapper": {
                                "base": "appNDZF7ubXUqgEsA",
                                "table": "tblEhCoBWtYExxTqi",
                                "record": {
                                    "fldMW4qvfdU1aXvyf": "{{10.result}}",
                                    "fldQrleQFqaCoTGYa": "{{1.message.toolCallList[].function.arguments.Nombre}}",
                                    "fldfpzL7HV4aBiMj0": "{{1.message.toolCallList[].function.arguments.Email}}",
                                    "fldvQoYh7WR2jK5Yv": "{{1.message.toolCallList[].function.arguments.Numero}}"
                                },
                                "typecast": false,
                                "useColumnId": false
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1200,
                                    "y": 300
                                },
                                "restore": {
                                    "expect": {
                                        "base": {
                                            "label": "IA Barbershop"
                                        },
                                        "table": {
                                            "label": "Table 1",
                                            "nested": [
                                                {
                                                    "name": "record",
                                                    "spec": [
                                                        {
                                                            "name": "fldQrleQFqaCoTGYa",
                                                            "type": "text",
                                                            "label": "Nombre"
                                                        },
                                                        {
                                                            "name": "fldvQoYh7WR2jK5Yv",
                                                            "type": "text",
                                                            "label": "Numero de telefono"
                                                        },
                                                        {
                                                            "name": "fldfpzL7HV4aBiMj0",
                                                            "type": "text",
                                                            "label": "Email"
                                                        },
                                                        {
                                                            "name": "fldMW4qvfdU1aXvyf",
                                                            "time": true,
                                                            "type": "date",
                                                            "label": "Dia y hora"
                                                        },
                                                        {
                                                            "mode": "edit",
                                                            "name": "fld8KyrUsaeOS5vDt",
                                                            "type": "select",
                                                            "label": "Status",
                                                            "dynamic": true,
                                                            "options": [
                                                                {
                                                                    "label": "No presentado",
                                                                    "value": "No presentado"
                                                                },
                                                                {
                                                                    "label": "Completado",
                                                                    "value": "Completado"
                                                                }
                                                            ],
                                                            "validate": false
                                                        },
                                                        {
                                                            "name": "fldhf1eBp1tpLGpGh",
                                                            "type": "uinteger",
                                                            "label": "Satisfacción",
                                                            "validate": {
                                                                "min": 1
                                                            }
                                                        }
                                                    ],
                                                    "type": "collection",
                                                    "label": "Record"
                                                }
                                            ]
                                        },
                                        "record": {
                                            "nested": {
                                                "fld8KyrUsaeOS5vDt": {
                                                    "mode": "edit"
                                                }
                                            }
                                        },
                                        "typecast": {
                                            "mode": "chose"
                                        },
                                        "useColumnId": {
                                            "mode": "chose"
                                        }
                                    },
                                    "parameters": {
                                        "__IMTCONN__": {
                                            "data": {
                                                "scoped": "true",
                                                "connection": "airtable3"
                                            },
                                            "label": "My Airtable OAuth connection buena (User ID: usr1voXsCs2mwE0pt)"
                                        }
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account:airtable3,airtable2",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "base",
                                        "type": "select",
                                        "label": "Base",
                                        "required": true
                                    },
                                    {
                                        "name": "typecast",
                                        "type": "boolean",
                                        "label": "Smart links",
                                        "required": true
                                    },
                                    {
                                        "name": "useColumnId",
                                        "type": "boolean",
                                        "label": "Use Column ID",
                                        "required": true
                                    },
                                    {
                                        "name": "table",
                                        "type": "select",
                                        "label": "Table",
                                        "required": true
                                    },
                                    {
                                        "name": "record",
                                        "spec": [
                                            {
                                                "name": "fldQrleQFqaCoTGYa",
                                                "type": "text",
                                                "label": "Nombre"
                                            },
                                            {
                                                "name": "fldvQoYh7WR2jK5Yv",
                                                "type": "text",
                                                "label": "Numero de telefono"
                                            },
                                            {
                                                "name": "fldfpzL7HV4aBiMj0",
                                                "type": "text",
                                                "label": "Email"
                                            },
                                            {
                                                "name": "fldMW4qvfdU1aXvyf",
                                                "time": true,
                                                "type": "date",
                                                "label": "Dia y hora"
                                            },
                                            {
                                                "mode": "edit",
                                                "name": "fld8KyrUsaeOS5vDt",
                                                "type": "select",
                                                "label": "Status"
                                            },
                                            {
                                                "name": "fldhf1eBp1tpLGpGh",
                                                "type": "uinteger",
                                                "label": "Satisfacción",
                                                "validate": {
                                                    "min": 1
                                                }
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ],
                                "interface": [
                                    {
                                        "name": "id",
                                        "type": "text",
                                        "label": "ID"
                                    },
                                    {
                                        "name": "createdTime",
                                        "type": "date",
                                        "label": "Created Time"
                                    },
                                    {
                                        "name": "Nombre",
                                        "type": "text",
                                        "label": "Nombre"
                                    },
                                    {
                                        "name": "Numero de telefono",
                                        "type": "text",
                                        "label": "Numero de telefono"
                                    },
                                    {
                                        "name": "Email",
                                        "type": "text",
                                        "label": "Email"
                                    },
                                    {
                                        "name": "Dia y hora",
                                        "time": true,
                                        "type": "date",
                                        "label": "Dia y hora"
                                    },
                                    {
                                        "name": "Status",
                                        "type": "text",
                                        "label": "Status"
                                    },
                                    {
                                        "name": "Satisfacción",
                                        "type": "uinteger",
                                        "label": "Satisfacción",
                                        "validate": {
                                            "min": 1
                                        }
                                    },
                                    {
                                        "name": "Última modificación",
                                        "type": "date",
                                        "label": "Última modificación"
                                    }
                                ]
                            }
                        }
                    ]
                },
                {
                    "flow": [
                        {
                            "id": 12,
                            "module": "google-calendar:createAnEvent",
                            "version": 5,
                            "parameters": {
                                "__IMTCONN__": 1523189
                            },
                            "filter": {
                                "name": "Tinte",
                                "conditions": [
                                    [
                                        {
                                            "a": "{{lower(1.message.toolCallList[].function.arguments.Tipo_de_servicio)}}",
                                            "b": "tinte",
                                            "o": "text:equal"
                                        }
                                    ]
                                ]
                            },
                            "mapper": {
                                "start": "{{10.result}}",
                                "select": "detail",
                                "summary": "Tinte - {{1.message.toolCallList[].function.arguments.Nombre}}",
                                "calendar": "angel.aparicio92@gmail.com",
                                "duration": "01:00",
                                "location": "Carrer de Sant Jaume, 16, 12580 Benicarló, Castelló",
                                "attendees": [
                                    {
                                        "email": "{{1.message.toolCallList[].function.arguments.Email}}",
                                        "displayName": "{{1.message.toolCallList[].function.arguments.Nombre}}"
                                    }
                                ],
                                "overrides": [
                                    {
                                        "method": "popup",
                                        "minutes": "30"
                                    }
                                ],
                                "useDefault": true,
                                "visibility": "default",
                                "allDayEvent": false,
                                "sendUpdates": "all",
                                "transparency": "opaque",
                                "conferenceDate": false,
                                "guestPermissions": {
                                    "guestsCanModify": false,
                                    "guestsCanInviteOthers": true,
                                    "guestsCanSeeOtherGuests": true
                                }
                            },
                            "metadata": {
                                "designer": {
                                    "x": 900,
                                    "y": 600
                                },
                                "restore": {
                                    "expect": {
                                        "select": {
                                            "label": "In Detail"
                                        },
                                        "colorId": {
                                            "mode": "chose"
                                        },
                                        "calendar": {
                                            "mode": "chose",
                                            "label": "angel.aparicio92@gmail.com (Primary Calendar)"
                                        },
                                        "attendees": {
                                            "mode": "chose",
                                            "items": [
                                                null
                                            ]
                                        },
                                        "overrides": {
                                            "mode": "chose",
                                            "items": [
                                                {
                                                    "method": {
                                                        "mode": "chose",
                                                        "label": "Pop-up"
                                                    }
                                                }
                                            ]
                                        },
                                        "recurrence": {
                                            "mode": "chose"
                                        },
                                        "visibility": {
                                            "mode": "chose",
                                            "label": "Default"
                                        },
                                        "allDayEvent": {
                                            "mode": "chose"
                                        },
                                        "attachments": {
                                            "mode": "chose"
                                        },
                                        "sendUpdates": {
                                            "mode": "chose",
                                            "label": "To All Guests"
                                        },
                                        "transparency": {
                                            "mode": "chose",
                                            "label": "Busy"
                                        },
                                        "conferenceDate": {
                                            "mode": "chose"
                                        }
                                    },
                                    "parameters": {
                                        "__IMTCONN__": {
                                            "data": {
                                                "scoped": "true",
                                                "connection": "google"
                                            },
                                            "label": "My Google connection (angel.aparicio92@gmail.com)"
                                        }
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account:google",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "select",
                                        "type": "select",
                                        "label": "Create an Event",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "quick",
                                                "detail"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "calendar",
                                        "type": "select",
                                        "label": "Calendar ID",
                                        "required": true
                                    },
                                    {
                                        "name": "colorId",
                                        "type": "select",
                                        "label": "Color"
                                    },
                                    {
                                        "name": "summary",
                                        "type": "text",
                                        "label": "Event Name",
                                        "required": true
                                    },
                                    {
                                        "name": "allDayEvent",
                                        "type": "boolean",
                                        "label": "All Day Event",
                                        "required": true
                                    },
                                    {
                                        "name": "start",
                                        "time": true,
                                        "type": "date",
                                        "label": "Start Date",
                                        "required": true
                                    },
                                    {
                                        "name": "end",
                                        "time": true,
                                        "type": "date",
                                        "label": "End Date"
                                    },
                                    {
                                        "name": "duration",
                                        "type": "time",
                                        "label": "Duration"
                                    },
                                    {
                                        "name": "description",
                                        "type": "text",
                                        "label": "Description"
                                    },
                                    {
                                        "name": "location",
                                        "type": "text",
                                        "label": "Location"
                                    },
                                    {
                                        "name": "useDefault",
                                        "type": "boolean",
                                        "label": "Use the default reminder settings for this event"
                                    },
                                    {
                                        "name": "overrides",
                                        "spec": [
                                            {
                                                "name": "method",
                                                "type": "select",
                                                "label": "Method",
                                                "options": [
                                                    {
                                                        "label": "Email",
                                                        "value": "email"
                                                    },
                                                    {
                                                        "label": "Pop-up",
                                                        "value": "popup"
                                                    }
                                                ],
                                                "required": true
                                            },
                                            {
                                                "name": "minutes",
                                                "type": "uinteger",
                                                "label": "Minutes",
                                                "required": true,
                                                "validate": {
                                                    "max": 40320
                                                }
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Reminders",
                                        "validate": {
                                            "maxItems": 5
                                        }
                                    },
                                    {
                                        "name": "attendees",
                                        "spec": [
                                            {
                                                "name": "displayName",
                                                "type": "text",
                                                "label": "Name"
                                            },
                                            {
                                                "name": "email",
                                                "type": "email",
                                                "label": "Email",
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Attendees"
                                    },
                                    {
                                        "name": "transparency",
                                        "type": "select",
                                        "label": "Show me as",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "opaque",
                                                "transparent"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "visibility",
                                        "type": "select",
                                        "label": "Visibility",
                                        "required": true,
                                        "validate": {
                                            "enum": [
                                                "default",
                                                "public",
                                                "private"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "sendUpdates",
                                        "type": "select",
                                        "label": "Send notifications about the event creation",
                                        "validate": {
                                            "enum": [
                                                "all",
                                                "externalOnly",
                                                "none"
                                            ]
                                        }
                                    },
                                    {
                                        "name": "guestPermissions",
                                        "spec": [
                                            {
                                                "name": "guestsCanModify",
                                                "type": "boolean",
                                                "label": "Modify event",
                                                "required": true
                                            },
                                            {
                                                "name": "guestsCanInviteOthers",
                                                "type": "boolean",
                                                "label": "Invite others",
                                                "required": true
                                            },
                                            {
                                                "name": "guestsCanSeeOtherGuests",
                                                "type": "boolean",
                                                "label": "See guest list",
                                                "required": true
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Guest Permissions"
                                    },
                                    {
                                        "name": "recurrence",
                                        "spec": {
                                            "name": "value",
                                            "type": "text",
                                            "label": "Value"
                                        },
                                        "type": "array",
                                        "label": "Recurrence"
                                    },
                                    {
                                        "name": "conferenceDate",
                                        "type": "boolean",
                                        "label": "Add Google Meet Video Conferencing",
                                        "required": true
                                    },
                                    {
                                        "name": "attachments",
                                        "spec": [
                                            {
                                                "name": "fileUrl",
                                                "type": "url",
                                                "label": "File URL",
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Attachments"
                                    }
                                ],
                                "advanced": true
                            }
                        },
                        {
                            "id": 9,
                            "module": "airtable:ActionCreateRecord",
                            "version": 3,
                            "parameters": {
                                "__IMTCONN__": 2923290
                            },
                            "mapper": {
                                "base": "appNDZF7ubXUqgEsA",
                                "table": "tblEhCoBWtYExxTqi",
                                "record": {
                                    "fldMW4qvfdU1aXvyf": "{{10.result}}",
                                    "fldQrleQFqaCoTGYa": "{{1.message.toolCallList[].function.arguments.Nombre}}",
                                    "fldfpzL7HV4aBiMj0": "{{1.message.toolCallList[].function.arguments.Email}}",
                                    "fldvQoYh7WR2jK5Yv": "{{1.message.toolCallList[].function.arguments.Numero}}"
                                },
                                "typecast": false,
                                "useColumnId": false
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1200,
                                    "y": 600
                                },
                                "restore": {
                                    "expect": {
                                        "base": {
                                            "label": "IA Barbershop"
                                        },
                                        "table": {
                                            "label": "Table 1",
                                            "nested": [
                                                {
                                                    "name": "record",
                                                    "spec": [
                                                        {
                                                            "name": "fldQrleQFqaCoTGYa",
                                                            "type": "text",
                                                            "label": "Nombre"
                                                        },
                                                        {
                                                            "name": "fldvQoYh7WR2jK5Yv",
                                                            "type": "text",
                                                            "label": "Numero de telefono"
                                                        },
                                                        {
                                                            "name": "fldfpzL7HV4aBiMj0",
                                                            "type": "text",
                                                            "label": "Email"
                                                        },
                                                        {
                                                            "name": "fldMW4qvfdU1aXvyf",
                                                            "time": true,
                                                            "type": "date",
                                                            "label": "Dia y hora"
                                                        },
                                                        {
                                                            "mode": "edit",
                                                            "name": "fld8KyrUsaeOS5vDt",
                                                            "type": "select",
                                                            "label": "Status",
                                                            "dynamic": true,
                                                            "options": [
                                                                {
                                                                    "label": "No presentado",
                                                                    "value": "No presentado"
                                                                },
                                                                {
                                                                    "label": "Completado",
                                                                    "value": "Completado"
                                                                }
                                                            ],
                                                            "validate": false
                                                        },
                                                        {
                                                            "name": "fldhf1eBp1tpLGpGh",
                                                            "type": "uinteger",
                                                            "label": "Satisfacción",
                                                            "validate": {
                                                                "min": 1
                                                            }
                                                        }
                                                    ],
                                                    "type": "collection",
                                                    "label": "Record"
                                                }
                                            ]
                                        },
                                        "record": {
                                            "nested": {
                                                "fld8KyrUsaeOS5vDt": {
                                                    "mode": "edit"
                                                }
                                            }
                                        },
                                        "typecast": {
                                            "mode": "chose"
                                        },
                                        "useColumnId": {
                                            "mode": "chose"
                                        }
                                    },
                                    "parameters": {
                                        "__IMTCONN__": {
                                            "data": {
                                                "scoped": "true",
                                                "connection": "airtable3"
                                            },
                                            "label": "My Airtable OAuth connection buena (User ID: usr1voXsCs2mwE0pt)"
                                        }
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account:airtable3,airtable2",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "base",
                                        "type": "select",
                                        "label": "Base",
                                        "required": true
                                    },
                                    {
                                        "name": "typecast",
                                        "type": "boolean",
                                        "label": "Smart links",
                                        "required": true
                                    },
                                    {
                                        "name": "useColumnId",
                                        "type": "boolean",
                                        "label": "Use Column ID",
                                        "required": true
                                    },
                                    {
                                        "name": "table",
                                        "type": "select",
                                        "label": "Table",
                                        "required": true
                                    },
                                    {
                                        "name": "record",
                                        "spec": [
                                            {
                                                "name": "fldQrleQFqaCoTGYa",
                                                "type": "text",
                                                "label": "Nombre"
                                            },
                                            {
                                                "name": "fldvQoYh7WR2jK5Yv",
                                                "type": "text",
                                                "label": "Numero de telefono"
                                            },
                                            {
                                                "name": "fldfpzL7HV4aBiMj0",
                                                "type": "text",
                                                "label": "Email"
                                            },
                                            {
                                                "name": "fldMW4qvfdU1aXvyf",
                                                "time": true,
                                                "type": "date",
                                                "label": "Dia y hora"
                                            },
                                            {
                                                "mode": "edit",
                                                "name": "fld8KyrUsaeOS5vDt",
                                                "type": "select",
                                                "label": "Status"
                                            },
                                            {
                                                "name": "fldhf1eBp1tpLGpGh",
                                                "type": "uinteger",
                                                "label": "Satisfacción",
                                                "validate": {
                                                    "min": 1
                                                }
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ],
                                "interface": [
                                    {
                                        "name": "id",
                                        "type": "text",
                                        "label": "ID"
                                    },
                                    {
                                        "name": "createdTime",
                                        "type": "date",
                                        "label": "Created Time"
                                    },
                                    {
                                        "name": "Nombre",
                                        "type": "text",
                                        "label": "Nombre"
                                    },
                                    {
                                        "name": "Numero de telefono",
                                        "type": "text",
                                        "label": "Numero de telefono"
                                    },
                                    {
                                        "name": "Email",
                                        "type": "text",
                                        "label": "Email"
                                    },
                                    {
                                        "name": "Dia y hora",
                                        "time": true,
                                        "type": "date",
                                        "label": "Dia y hora"
                                    },
                                    {
                                        "name": "Status",
                                        "type": "text",
                                        "label": "Status"
                                    },
                                    {
                                        "name": "Satisfacción",
                                        "type": "uinteger",
                                        "label": "Satisfacción",
                                        "validate": {
                                            "min": 1
                                        }
                                    },
                                    {
                                        "name": "Última modificación",
                                        "type": "date",
                                        "label": "Última modificación"
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        }
    ],
    "metadata": {
        "instant": true,
        "version": 1,
        "scenario": {
            "roundtrips": 1,
            "maxErrors": 3,
            "autoCommit": true,
            "autoCommitTriggerLast": true,
            "sequential": false,
            "slots": null,
            "confidential": false,
            "dataloss": false,
            "dlq": false,
            "freshVariables": false
        },
        "designer": {
            "orphans": []
        },
        "zone": "eu2.make.com",
        "notes": [
            {
                "moduleIds": [
                    1
                ],
                "content": "<h1>Disparador: Webhook Personalizado</h1><p>Este módulo actúa como el punto de entrada de la automatización. Espera recibir datos de un servicio externo (en este caso, Vapi) cada vez que se genera una nueva solicitud de cita. Captura toda la información inicial del cliente, como nombre, email, número de teléfono y el servicio solicitado.</p><p><b>Configuración:</b> La URL generada por este webhook debe ser configurada en el panel de Vapi para que envíe los datos a este escenario cada vez que se complete una llamada de reserva.</p>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#9138FE"
                }
            },
            {
                "moduleIds": [
                    10
                ],
                "content": "<h1>Formatear Fecha con IA (Groq)</h1><p>Este módulo utiliza la IA de Groq (modelo Llama 3) para procesar la fecha y hora recibidas del webhook. El formato de fecha original puede no ser compatible con Google Calendar, por lo que se le pide a la IA que lo transforme al formato estandarizado 'YYYY/MM/DD HH:MM'.</p><p><b>Configuración:</b> Se requiere una conexión activa con Groq. El prompt está diseñado para que la IA devuelva únicamente la fecha formateada, sin texto adicional, para poder usarla directamente en el siguiente paso.</p>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#00A9A2"
                }
            },
            {
                "moduleIds": [
                    5
                ],
                "content": "<h1>Enrutador: Clasificar por Tipo de Servicio</h1><p>Este enrutador (Router) es el centro de decisión del flujo. Analiza el 'Tipo de servicio' que el cliente solicitó (extraído del webhook) y dirige la automatización por una de las tres rutas diferentes: una para 'Corte de pelo', una para 'Afeitado' y otra para 'Tinte'.</p><p><b>Configuración:</b> No requiere configuración de mapeo, pero cada ruta que sale de él debe tener un filtro basado en el valor de la variable <code>1.message.toolCallList[].function.arguments.Tipo_de_servicio</code>.</p>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#F3783A"
                }
            },
            {
                "moduleIds": [
                    2
                ],
                "content": "<h1>Ruta 1: Crear Evento para Corte de Pelo</h1><p>Este módulo se activa solo si el servicio solicitado es 'corte'. Crea un nuevo evento en Google Calendar con los detalles específicos para un corte de pelo.</p><p><b>Configuración:</b></p><ul><li><b>Filtro:</b> Se ha configurado un filtro 'Corte de pelo' que comprueba si <code>{{lower(1.message.toolCallList[].function.arguments.Tipo_de_servicio)}}</code> es igual a 'corte'.</li><li><b>Mapeo:</b> Se utiliza la fecha formateada por Groq (módulo 10) para el campo 'Start'. El título del evento y la duración (30 min) están predefinidos para este servicio. Se añade al cliente como invitado.</li></ul>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#4CAF50"
                }
            },
            {
                "moduleIds": [
                    4
                ],
                "content": "<h1>Ruta 1: Registrar Cita de Corte en Airtable</h1><p>Después de crear el evento en el calendario, este módulo guarda una copia de la cita en una base de datos de Airtable. Esto sirve como un registro centralizado de todas las citas gestionadas.</p><p><b>Configuración:</b> Se necesita una conexión a Airtable y seleccionar la Base y Tabla correctas. Los campos como Nombre, Email, Número y Fecha se mapean desde los datos del webhook (módulo 1) y de Groq (módulo 10).</p>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#FBC02D"
                }
            },
            {
                "moduleIds": [
                    11
                ],
                "content": "<h1>Ruta 2: Crear Evento para Afeitado</h1><p>Este módulo se ejecuta si el servicio solicitado es 'afeitado'. Su función es crear un evento en Google Calendar específico para este servicio.</p><p><b>Configuración:</b></p><ul><li><b>Filtro:</b> El filtro 'afeitado' verifica que <code>{{lower(1.message.toolCallList[].function.arguments.Tipo_de_servicio)}}</code> contenga 'afeitado'.</li><li><b>Mapeo:</b> Similar a la ruta de corte, usa la fecha formateada por Groq. El título del evento y la duración (30 min) se personalizan para el servicio de afeitado.</li></ul>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#4CAF50"
                }
            },
            {
                "moduleIds": [
                    7
                ],
                "content": "<h1>Ruta 2: Registrar Cita de Afeitado en Airtable</h1><p>Tras agendar el afeitado en Google Calendar, este módulo lo registra en la misma base de datos de Airtable, asegurando que todos los tipos de citas se almacenen de forma centralizada.</p><p><b>Configuración:</b> Utiliza la misma conexión, Base y Tabla de Airtable que la ruta anterior. Mapea los datos correspondientes del cliente y la cita.</p>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#FBC02D"
                }
            },
            {
                "moduleIds": [
                    12
                ],
                "content": "<h1>Ruta 3: Crear Evento para Tinte</h1><p>Este módulo se activa si el servicio solicitado es 'tinte'. Crea el evento correspondiente en Google Calendar, que tiene una duración mayor que los otros servicios.</p><p><b>Configuración:</b></p><ul><li><b>Filtro:</b> El filtro 'Tinte' comprueba si la variable de servicio es igual a 'tinte'.</li><li><b>Mapeo:</b> El título del evento se personaliza para 'Tinte' y la duración se establece en 1 hora (01:00), a diferencia de los 30 minutos de los otros servicios.</li></ul>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#4CAF50"
                }
            },
            {
                "moduleIds": [
                    9
                ],
                "content": "<h1>Ruta 3: Registrar Cita de Tinte en Airtable</h1><p>Finalmente, después de crear el evento de tinte en el calendario, este módulo guarda los detalles de la cita en la base de datos de Airtable, completando el flujo para este tipo de servicio.</p><p><b>Configuración:</b> Mantiene la consistencia utilizando la misma conexión y tabla de Airtable para centralizar todos los registros de citas.</p>",
                "isFilterNote": false,
                "metadata": {
                    "color": "#FBC02D"
                }
            }
        ]
    }
}